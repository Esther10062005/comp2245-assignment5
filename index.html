<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>World Database Lookup</title>
    <link href="world.css" type="text/css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(() => {
            // Function to handle AJAX requests
            function fetchResults(lookupType) {
                const country = $('#country').val().trim(); // Get the input value
                if (country) {
                    // Perform an AJAX request
                    $.ajax({
                        url: 'world.php',
                        type: 'GET',
                        data: { country: country, lookup: lookupType }, // Send the query parameters
                        success: (response) => {
                            $('#result').html(response); // Update the result div
                        },
                        error: () => {
                            $('#result').html('<p>Error fetching data. Please try again.</p>');
                        }
                    });
                } else {
                    alert('Please enter a country name.');
                }
            }

            // Event listener for "Lookup" button
            $('#lookup').click(() => fetchResults('countries'));

            // Event listener for "Lookup Cities" button
            $('#lookupCities').click(() => fetchResults('cities'));
        });
    </script>
</head>
<body>
    <header>
        <h1>World Database Lookup</h1>
    </header>
    <main>
        <div id="controls">
            <label for="country">Country:</label>
            <input id="country" type="search" name="country" placeholder="Enter country name" />
            <button id="lookup">Lookup</button>
            <button id="lookupCities">Lookup Cities</button> <!-- New button -->
        </div>
        <div id="result">
            <!-- countries or cities will appear here -->
        </div>
    </main>
</body>
</html>
